# ============================================
# Koda Environment Variables
# ============================================
#
# DEPLOYMENT MODES (Canvas + Assets are independent):
#
# ┌─────────────────────────────────────────────────────────────┐
# │ MODE 1: DEMO (default)                                      │
# │ Canvas: Browser localStorage                                │
# │ Assets: fal.ai URLs (may expire after 24-48h)              │
# │ Config: (none needed)                                       │
# └─────────────────────────────────────────────────────────────┘
#
# ┌─────────────────────────────────────────────────────────────┐
# │ MODE 2: SELF-HOSTED (all local)                             │
# │ Canvas: Local SQLite file                                   │
# │ Assets: Local filesystem                                    │
# │ Config:                                                     │
# │   NEXT_PUBLIC_STORAGE_BACKEND=sqlite                        │
# │   SQLITE_PATH=./data/koda.db                                │
# │   ASSET_STORAGE=local                                       │
# │   ASSET_LOCAL_PATH=./data/generations                       │
# └─────────────────────────────────────────────────────────────┘
#
# ┌─────────────────────────────────────────────────────────────┐
# │ MODE 3: CLOUD (Turso + R2)                                  │
# │ Canvas: Turso (cloud SQLite)                                │
# │ Assets: Cloudflare R2                                       │
# │ Config:                                                     │
# │   NEXT_PUBLIC_STORAGE_BACKEND=sqlite                        │
# │   TURSO_DATABASE_URL=libsql://xxx.turso.io                  │
# │   TURSO_AUTH_TOKEN=xxx                                      │
# │   ASSET_STORAGE=r2                                          │
# │   R2_ACCOUNT_ID=xxx                                         │
# │   R2_ACCESS_KEY_ID=xxx                                      │
# │   R2_SECRET_ACCESS_KEY=xxx                                  │
# │   R2_BUCKET_NAME=koda-assets                                │
# └─────────────────────────────────────────────────────────────┘
#
# You can also MIX: Local DB + Cloud Assets, or Cloud DB + Local Assets
#

# ============================================
# AI API KEYS (Required for generation)
# ============================================

# Fal.ai API key - Required for image/video generation
# Get yours at: https://fal.ai
FAL_KEY=

# Anthropic API key - Required for AI agents (prompt enhancement)
# Get yours at: https://console.anthropic.com
ANTHROPIC_API_KEY=

# ============================================
# STORAGE CONFIGURATION
# ============================================

# Storage backend: 'localStorage' | 'sqlite'
# - localStorage: Browser storage (default, no setup required)
# - sqlite: SQLite database (local file or Turso cloud)
NEXT_PUBLIC_STORAGE_BACKEND=sqlite

# ============================================
# SQLite Configuration (when STORAGE_BACKEND=sqlite)
# ============================================

# Local SQLite file path
# Examples:
#   ./data/koda.db            - Relative to project root
#   /home/user/koda/koda.db   - Absolute path
#   :memory:                  - In-memory (lost on restart)
SQLITE_PATH=./data/koda.db

# Turso Cloud (optional, overrides SQLITE_PATH)
# Get these from https://turso.tech
# TURSO_DATABASE_URL=libsql://your-db.turso.io
# TURSO_AUTH_TOKEN=your-token

# ============================================
# ASSET STORAGE CONFIGURATION
# ============================================

# Asset storage backend: 'local' | 'r2' | 's3'
# - local: Store in ./data/generations/ folder (default)
# - r2: Cloudflare R2 (recommended for cloud, has free tier)
# - s3: AWS S3 (more expensive, enterprise option)
#
# NOTE: If not set, generated assets use fal.ai URLs directly
# (which may expire after 24-48 hours)
ASSET_STORAGE=local

# Local storage path (when ASSET_STORAGE=local)
ASSET_LOCAL_PATH=./data/generations

# ============================================
# Cloudflare R2 Configuration (when ASSET_STORAGE=r2)
# ============================================
# R2 is recommended for cloud storage:
# - Zero egress fees (downloading images is free!)
# - 10GB free tier forever
# - S3-compatible API
#
# Get these from https://dash.cloudflare.com → R2
# R2_ACCOUNT_ID=
# R2_ACCESS_KEY_ID=
# R2_SECRET_ACCESS_KEY=
# R2_BUCKET_NAME=
# R2_PUBLIC_URL=              # Optional: custom domain or r2.dev URL

# ============================================
# AWS S3 Configuration (when ASSET_STORAGE=s3)
# ============================================
# S3 is more expensive due to egress fees
# Only use if you're already in the AWS ecosystem
#
# S3_ACCESS_KEY_ID=
# S3_SECRET_ACCESS_KEY=
# S3_BUCKET_NAME=
# S3_REGION=us-east-1
# S3_PUBLIC_URL=              # Optional: CloudFront URL for caching
